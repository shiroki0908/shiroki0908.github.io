/**
 * 作曲家与乐谱集展示区域样式
 * 学习相册集照片墙的显示方式，适配Solitude主题
 */

/* 自定义字体定义 */
@font-face {
  font-family: 'GreatVibes';
  src: url('/fonts/GreatVibes-Regular-2.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* 全局变量 - 白天夜晚效果 */
:root {
  --composer-title-color: #333; /* 默认浅色模式标题颜色 */
  --composer-bg-color: #fff; /* 默认浅色模式背景颜色 */
  --composer-text-color: #333; /* 默认浅色模式文字颜色 */
  --composer-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* 默认浅色模式阴影 */
  --composer-hover-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); /* 默认浅色模式悬停阴影 */
  
  /* 模态框白天夜晚效果变量 */
  --modal-bg-color: #fff; /* 默认浅色模式模态框背景 */
  --modal-text-color: #333; /* 默认浅色模式模态框文字 */
  --modal-border-color: #e0e0e0; /* 默认浅色模式模态框边框 */
  --modal-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); /* 默认浅色模式模态框阴影 */
  --modal-backdrop: rgba(0, 0, 0, 0.5); /* 默认浅色模式背景遮罩 */
  --modal-close-color: #666; /* 默认浅色模式关闭按钮颜色 */
  --modal-close-bg: rgba(0, 0, 0, 0.1); /* 默认浅色模式关闭按钮背景 - 深色背景 */
  --modal-close-bg-hover: rgba(0, 0, 0, 0.2); /* 默认浅色模式关闭按钮悬停背景 */
  --modal-tag-bg: #007bff; /* 默认浅色模式标签背景 */
  --modal-tag-text: #fff; /* 默认浅色模式标签文字 */
}

[data-theme="dark"] {
  --composer-title-color: #fff; /* 深色模式标题颜色 */
  --composer-bg-color: #2c3e50; /* 深色模式背景颜色 */
  --composer-text-color: #ecf0f1; /* 深色模式文字颜色 */
  --composer-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* 深色模式阴影 */
  --composer-hover-shadow: 0 8px 25px rgba(0, 0, 0, 0.4); /* 深色模式悬停阴影 */
  
  /* 模态框深色模式变量 */
  --modal-bg-color: #2c3e50; /* 深色模式模态框背景 */
  --modal-text-color: #ecf0f1; /* 深色模式模态框文字 */
  --modal-border-color: #34495e; /* 深色模式模态框边框 */
  --modal-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); /* 深色模式模态框阴影 */
  --modal-backdrop: rgba(0, 0, 0, 0.7); /* 深色模式背景遮罩 */
  --modal-close-color: #bdc3c7; /* 深色模式关闭按钮颜色 */
  --modal-close-bg: rgba(255, 255, 255, 0.1); /* 深色模式关闭按钮背景 - 浅色背景 */
  --modal-close-bg-hover: rgba(255, 255, 255, 0.2); /* 深色模式关闭按钮悬停背景 */
  --modal-tag-bg: #3498db; /* 深色模式标签背景 */
  --modal-tag-text: #fff; /* 深色模式标签文字 */
}

/* 作曲家展示区域 */
.composers-section {
  margin-top: 5px;
  padding: 10px 20px;
  background: transparent;
  border-radius: 0;
  box-shadow: none;
}

.composers-header {
  text-align: center;
  margin-bottom: 10px;
}

.composers-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--composer-title-color);
  margin-bottom: 10px;
  font-family: 'Georgia', 'Times New Roman', serif;
}

/* 作曲家网格布局 - 一排显示5个作曲家 */
.composers-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 24px;
  max-width: 1200px;
  margin: 0 auto;
}

/* 作曲家卡片 - 学习相册集照片墙样式 */
.composer-card {
  background: var(--composer-bg-color);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: var(--composer-shadow);
  transition: all 0.6s ease; /* 学习照片墙的过渡时间 */
  cursor: pointer;
  position: relative;
  border: 2px solid transparent; /* 添加边框准备 */
}

.composer-card:hover {
  transform: translateY(-8px) scale(1.02); /* 学习照片墙的缩放效果 */
  box-shadow: var(--composer-hover-shadow);
  border-color: rgba(0, 123, 255, 0.3); /* 悬停时显示蓝色边框 */
}

.composer-image {
  position: relative;
  width: 100%;
  height: 200px;
  overflow: hidden;
  border-radius: 10px 10px 0 0; /* 学习相册集的圆角 */
}

.composer-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.8s ease; /* 学习照片墙的图片过渡时间 */
  border-radius: 10px 10px 0 0;
  /* 图片质量优化 */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  image-rendering: pixelated;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  /* 防止图片模糊 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.composer-card:hover .composer-image img {
  transform: scale(1.1) rotate(2deg); /* 学习照片墙的旋转效果 */
}

.composer-info {
  padding: 8px 12px;
  text-align: center;
  min-height: auto;
}

.composer-name {
  font-size: 1.0rem; /* 字体大小，允许两行显示 */
  font-weight: normal; /* GreatVibes字体通常不需要太粗 */
  color: var(--composer-text-color);
  margin: 0 0 2px 0;
  font-family: 'GreatVibes', 'Brush Script MT', 'Lucida Handwriting', 'Apple Chancery', 'Bradley Hand', 'Segoe Script', cursive;
  line-height: 1.3; /* 增加行高，让两行显示更美观 */
  white-space: normal; /* 允许多行显示 */
  overflow: visible; /* 允许内容溢出 */
  word-wrap: break-word; /* 长单词自动换行 */
  hyphens: auto; /* 自动断词 */
  font-style: normal; /* GreatVibes字体本身就有优雅风格 */
  letter-spacing: 1px; /* 增加字母间距，适合GreatVibes */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15); /* 增强阴影，突出优雅效果 */
  transform: none; /* GreatVibes不需要旋转 */
}

.composer-years {
  font-size: 0.7rem; /* 确保比名字字体小 */
  color: var(--composer-text-color);
  opacity: 0.7; /* 使用透明度而不是固定颜色 */
  margin: 0;
  font-family: 'GreatVibes', 'Brush Script MT', 'Lucida Handwriting', 'Apple Chancery', 'Bradley Hand', 'Segoe Script', cursive; /* 使用相同字体 */
  font-style: normal; /* GreatVibes字体本身就有优雅风格 */
  line-height: 1.1;
  letter-spacing: 0.5px; /* 适中的字母间距 */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* 轻微阴影 */
}

/* 模态框样式 */
.composer-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  /* 立即应用背景模糊，避免延迟 */
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.composer-modal.show {
  display: flex;
}

.modal-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--modal-backdrop); /* 使用主题变量 */
  /* 移除backdrop-filter，避免重复和延迟 */
  /* backdrop-filter: blur(4px); */
}

.modal-content {
  position: relative;
  background: var(--modal-bg-color); /* 使用主题变量 */
  border-radius: 16px;
  max-width: 800px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--modal-shadow); /* 使用主题变量 */
  border: 1px solid var(--modal-border-color); /* 使用主题变量 */
  transform: scale(0.95);
  opacity: 0;
  transition: all 0.3s ease;
}

.composer-modal.show .modal-content {
  transform: scale(1);
  opacity: 1;
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 32px;
  height: 32px;
  background: var(--modal-close-bg); /* 使用主题变量 */
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transition: all 0.3s ease;
  color: var(--modal-close-color); /* 使用主题变量 */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); /* 添加阴影增强可见性 */
}

.modal-close:hover {
  background: var(--modal-close-bg-hover); /* 使用主题变量 */
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* 悬停时增强阴影 */
}

.modal-close i {
  color: var(--modal-close-color); /* 使用主题变量 */
  font-size: 14px;
}

.modal-body {
  padding: 32px;
}

/* 作曲家详情头部 */
.composer-detail-header {
  display: flex;
  gap: 24px;
  margin-bottom: 24px;
  flex-wrap: wrap;
  align-items: stretch; /* 让子元素高度一致 */
}

.composer-detail-bio {
  margin-bottom: 32px;
  padding: 20px;
  background: transparent; /* 透明背景，只显示文字 */
  border: none; /* 移除边框 */
  border-radius: 0; /* 移除圆角 */
  box-shadow: none; /* 移除阴影 */
}

/* 模态框中的作曲家详情元素样式 */
#detail-composer-name {
  font-size: 2.5rem; /* 增大字体以突出GreatVibes的优雅 */
  font-weight: normal; /* GreatVibes字体通常不需要太粗 */
  color: var(--modal-text-color); /* 使用模态框主题变量 */
  margin: 0 0 8px 0;
  font-family: 'GreatVibes', 'Brush Script MT', 'Lucida Handwriting', 'Apple Chancery', 'Bradley Hand', 'Segoe Script', cursive;
  letter-spacing: 1.5px; /* 增加字母间距 */
  text-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); /* 增强阴影效果 */
  white-space: nowrap; /* 强制单行显示 */
  overflow: visible; /* 允许内容溢出，不使用省略号 */
  line-height: 1.2; /* 减小行高 */
  max-width: 100%; /* 确保不超出容器 */
}

#detail-composer-years {
  font-size: 1.4rem; /* 稍微增大字体 */
  color: var(--modal-text-color); /* 使用模态框主题变量 */
  opacity: 0.7;
  margin: 0 0 16px 0;
  font-family: 'GreatVibes', 'Brush Script MT', 'Lucida Handwriting', 'Apple Chancery', 'Bradley Hand', 'Segoe Script', cursive;
  letter-spacing: 1px; /* 增加字母间距 */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15); /* 增强阴影效果 */
}

#detail-composer-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

#detail-composer-tags .tag {
  background: var(--modal-tag-bg); /* 使用主题变量 */
  color: var(--modal-tag-text); /* 使用主题变量 */
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
}

#detail-composer-bio {
  font-size: 1.1rem;
  line-height: 1.6;
  color: var(--modal-text-color); /* 使用模态框主题变量 */
  margin: 0;
  text-align: justify;
  font-weight: 400;
  letter-spacing: 0.5px; /* 增加字母间距，提高可读性 */
}

.composer-detail-image {
  flex: 0 0 200px;
  height: 200px; /* 固定图片高度 */
  position: relative;
  overflow: hidden;
}

.composer-detail-info {
  flex: 1; /* 占据剩余空间 */
  display: flex;
  flex-direction: column;
  justify-content: center; /* 垂直居中 */
  min-height: 200px; /* 与图片高度一致 */
}

.composer-detail-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  /* 图片质量优化 - 使用更高质量的设置 */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  image-rendering: -webkit-crisp-edges;
  image-rendering: pixelated;
  /* 硬件加速和防模糊 */
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-perspective: 1000px;
  perspective: 1000px;
  /* 防止图片模糊 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* 强制高质量渲染 */
  -webkit-image-smoothing: high-quality;
  image-smoothing: high-quality;
  /* 确保图片不被压缩 */
  max-width: none;
  max-height: none;
  /* 防止图片被浏览器优化 */
  -webkit-interpolation-mode: nearest-neighbor;
  interpolation-mode: nearest-neighbor;
}

.composer-detail-info {
  flex: 1;
  min-width: 300px;
}

.composer-detail-info h2 {
  font-size: 2rem;
  font-weight: 700;
  color: #2c3e50;
  margin: 0 0 8px 0;
  font-family: 'Georgia', 'Times New Roman', serif;
}

.composer-detail-info p {
  font-size: 1.1rem;
  color: #6c757d;
  margin: 0 0 16px 0;
  font-style: italic;
}

.composer-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.composer-tags span {
  background: #e3f2fd;
  color: #1976d2;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 0.85rem;
  font-weight: 500;
}

.composer-detail-info p:last-of-type {
  color: #495057;
  line-height: 1.6;
  font-style: normal;
}



.scores-container {
  border: 1px solid #e9ecef !important; /* 强制固定样式 */
  border-radius: 8px;
  overflow: hidden;
  background-color: #ffffff !important; /* 强制固定白色背景 */
}

.score-item {
  padding: 12px 20px; /* 减小垂直内边距 */
  border-bottom: 1px solid #e9ecef !important; /* 强制固定样式 */
  background-color: #ffffff !important; /* 强制固定白色背景 */
  transition: background-color 0.2s ease;
  color: inherit !important; /* 强制继承文字颜色 */
}

.score-item:last-child {
  border-bottom: none;
}

.score-item:hover {
  background-color: #f8f9fa !important; /* 强制固定悬停背景 */
}

.score-item:nth-child(even) {
  background-color: #f8f9fa !important; /* 强制固定偶数行背景 */
}

.score-item:nth-child(even):hover {
  background-color: #e9ecef !important; /* 强制固定偶数行悬停背景 */
}

.score-header {
  display: flex;
  justify-content: space-between;
  align-items: center; /* 改为center，让下载按钮显示在中间位置 */
  gap: 16px;
  flex-wrap: wrap;
}

.score-info {
  background-color: transparent; /* 确保背景透明 */
}

.score-info h4 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #2c3e50 !important; /* 强制固定颜色 */
  margin: 0 0 4px 0; /* 减小底部间距 */
  line-height: 1.2; /* 减小行高 */
  font-family: 'Georgia', 'Times New Roman', serif;
  background-color: transparent; /* 确保背景透明 */
}

.score-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px; /* 减小间距 */
  font-size: 0.9rem;
  color: #6c757d !important; /* 强制固定颜色 */
  line-height: 1.3; /* 减小行高 */
  margin: 0; /* 移除默认margin */
  background-color: transparent; /* 确保背景透明 */
}

.score-meta div {
  display: flex;
  align-items: center;
  gap: 3px; /* 减小间距 */
  line-height: 1.2; /* 减小行高 */
}

.score-meta span {
  font-weight: 500;
  color: #495057 !important; /* 强制固定颜色 */
  background-color: transparent; /* 确保背景透明 */
}

.score-actions {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.score-preview {
  flex-shrink: 0;
}

.score-download {
  flex-shrink: 0;
}

.score-preview a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: none; /* 去掉背景色 */
  color: #2c3e50; /* 深色图标 */
  padding: 8px; /* 减少内边距 */
  border-radius: 0; /* 去掉圆角 */
  text-decoration: none;
  font-size: 1.2rem; /* 增大图标尺寸 */
  font-weight: normal;
  transition: all 0.3s ease;
  width: 32px; /* 固定宽度 */
  height: 32px; /* 固定高度 */
}

.score-preview a:hover {
  background: none; /* 悬停时也保持无背景 */
  color: #1a252f; /* 悬停时更深的颜色 */
  transform: scale(1.1); /* 悬停时放大 */
}

.score-download a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: none; /* 去掉背景色 */
  color: #2c3e50; /* 深色图标 */
  padding: 8px; /* 减少内边距 */
  border-radius: 0; /* 去掉圆角 */
  text-decoration: none;
  font-size: 1.2rem; /* 增大图标尺寸 */
  font-weight: normal;
  transition: all 0.3s ease;
  width: 32px; /* 固定宽度 */
  height: 32px; /* 固定高度 */
}

.score-download a:hover {
  background: none; /* 悬停时也保持无背景 */
  color: #1a252f; /* 悬停时更深的颜色 */
  transform: scale(1.1); /* 悬停时放大 */
}

/* 响应式设计 */
@media (max-width: 1200px) {
  .composers-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
}

@media (max-width: 992px) {
  .composers-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 18px;
  }
}

@media (max-width: 768px) {
  .composers-section {
    margin-top: 3px;
    padding: 8px 15px;
  }
  
  .composers-title {
    font-size: 2rem;
  }
  
  .composers-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
  }
  
  .composer-image {
    height: 150px;
  }
  
  .composer-info {
    padding: 6px 10px;
  }
  
  .composer-name {
    font-size: 0.9rem; /* 平板端字体大小 */
    margin: 0 0 1px 0;
    line-height: 1.3; /* 保持行高一致 */
    white-space: normal; /* 允许多行显示 */
    overflow: visible; /* 允许内容溢出 */
    word-wrap: break-word; /* 长单词自动换行 */
    hyphens: auto; /* 自动断词 */
    font-family: 'GreatVibes', 'Brush Script MT', 'Lucida Handwriting', 'Apple Chancery', 'Bradley Hand', 'Segoe Script', cursive;
    font-style: normal;
    letter-spacing: 0.6px;
  }
  
  .modal-body {
    padding: 20px;
  }
  
  .composer-detail-header {
    flex-direction: column;
    gap: 16px;
    align-items: center; /* 移动端居中对齐 */
    text-align: center; /* 确保文字居中 */
  }
  
  .composer-detail-image {
    flex: none;
    align-self: center;
    height: 180px; /* 移动端适当减小图片高度，但保持清晰 */
    width: 180px; /* 确保宽高一致，保持正方形 */
    margin: 0 auto; /* 确保水平居中 */
    order: -1; /* 确保图片在名字上方 */
  }
  
  .composer-detail-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    /* 图片质量优化 - 使用更高质量的设置 */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    image-rendering: -webkit-crisp-edges;
    image-rendering: pixelated;
    /* 硬件加速和防模糊 */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-perspective: 1000px;
    perspective: 1000px;
    /* 防止图片模糊 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* 强制高质量渲染 */
    -webkit-image-smoothing: high-quality;
    image-smoothing: high-quality;
    /* 确保图片不被压缩 */
    max-width: none;
    max-height: none;
    /* 防止图片被浏览器优化 */
    -webkit-interpolation-mode: nearest-neighbor;
    interpolation-mode: nearest-neighbor;
  }
  
  .composer-detail-info {
    min-height: auto; /* 移动端取消最小高度限制 */
    text-align: center; /* 移动端文字居中 */
    order: 1; /* 确保信息在图片下方 */
    width: 100%; /* 占满宽度 */
  }
  
  .composer-detail-bio {
    padding: 16px;
    margin-bottom: 24px;
    border: none; /* 移除边框 */
    border-radius: 0; /* 移除圆角 */
    box-shadow: none; /* 移除阴影 */
  }
  
  #detail-composer-name {
    font-size: 2rem; /* 平板端保持较大字体 */
  }
  
  #detail-composer-years {
    font-size: 1.2rem; /* 平板端保持较大字体 */
  }
  
  #detail-composer-bio {
    font-size: 1rem;
  }
  
  .composer-detail-info {
    min-width: auto;
  }
  
  .composer-detail-info h2 {
    font-size: 1.5rem;
  }
  
  .score-header {
    flex-direction: column;
    align-items: stretch;
  }
  
  .score-download {
    align-self: flex-start;
  }
}

@media (max-width: 480px) {
  .composers-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
  
  .composer-image {
    height: 120px;
  }
  
  .composer-image img {
    /* 图片质量优化 */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    /* 防止图片模糊 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* 手机端模态框样式优化 */
  .modal-body {
    padding: 16px; /* 减少内边距 */
  }
  
  .composer-detail-header {
    flex-direction: column;
    gap: 20px; /* 增加图片和文字之间的间距 */
    align-items: center;
    text-align: center;
  }
  
  .composer-detail-image {
    flex: none;
    align-self: center;
    width: 100%; /* 宽度和框体保持一致 */
    height: auto; /* 高度自适应 */
    aspect-ratio: 1; /* 保持正方形比例 */
    max-width: 280px; /* 设置最大宽度，避免图片过大 */
    margin: 0 auto 20px auto; /* 水平居中，底部增加间距 */
    order: -1; /* 确保图片在名字上方 */
  }
  
  .composer-detail-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    border-radius: 16px; /* 增加圆角 */
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15); /* 增强阴影效果 */
    /* 图片质量优化 */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    /* 防止图片模糊 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* 强制高质量渲染 */
    -webkit-image-smoothing: high-quality;
    image-smoothing: high-quality;
    /* 确保图片不被压缩 */
    max-width: none;
    max-height: none;
  }
  
  .composer-detail-info {
    min-height: auto;
    text-align: center;
    order: 1; /* 确保信息在图片下方 */
    width: 100%;
    padding: 0 10px; /* 添加左右内边距 */
  }
  
  #detail-composer-name {
    font-size: 1.8rem; /* 手机端适当调整字体大小 */
    margin-bottom: 8px;
  }
  
  #detail-composer-years {
    font-size: 1.1rem; /* 手机端适当调整字体大小 */
    margin-bottom: 16px;
  }
  
  #detail-composer-bio {
    font-size: 0.95rem; /* 手机端适当调整字体大小 */
    line-height: 1.6;
    text-align: justify; /* 两端对齐，提高可读性 */
  }
  
  .composer-detail-bio {
    padding: 16px 10px; /* 添加左右内边距 */
    margin-bottom: 20px;
    border: none;
    border-radius: 0;
    box-shadow: none;
  }
  
  .composer-info {
    padding: 4px 8px;
  }
  
  .composer-name {
    font-size: 0.85rem; /* 手机端字体大小 */
    margin: 0 0 1px 0;
    line-height: 1.3; /* 保持行高一致 */
    white-space: normal; /* 允许多行显示 */
    overflow: visible; /* 允许内容溢出 */
    word-wrap: break-word; /* 长单词自动换行 */
    hyphens: auto; /* 自动断词 */
    font-family: 'GreatVibes', 'Brush Script MT', 'Lucida Handwriting', 'Apple Chancery', 'Bradley Hand', 'Segoe Script', cursive;
    font-style: normal;
    letter-spacing: 0.4px;
  }
  
  .composer-years {
    font-size: 0.7rem; /* 确保比名字字体小 */
  }
}

/* 图片加载优化和预加载 */
.composer-detail-image img,
.composer-image img {
  /* 图片加载优化 */
  will-change: transform !important;
  transform: translateZ(0) !important;
  -webkit-transform: translateZ(0) !important;
  
  /* 强制硬件加速 */
  -webkit-backface-visibility: hidden !important;
  backface-visibility: hidden !important;
  -webkit-perspective: 1000px !important;
  perspective: 1000px !important;
  
  /* 图片渲染优化 */
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: -moz-crisp-edges !important;
  image-rendering: crisp-edges !important;
  
  /* 防止图片模糊 */
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  
  /* 强制高质量渲染 */
  -webkit-image-smoothing: high-quality !important;
  image-smoothing: high-quality !important;
  
  /* 确保图片不被压缩 */
  max-width: none !important;
  max-height: none !important;
  min-width: auto !important;
  min-height: auto !important;
  
  /* 移除任何可能的低质量设置 */
  -webkit-interpolation-mode: auto !important;
  interpolation-mode: auto !important;
  
  /* 图片加载状态 */
  opacity: 1 !important;
  transition: opacity 0.3s ease-in-out !important;
}

/* 图片加载中的状态 */
.composer-detail-image img[loading],
.composer-image img[loading] {
  opacity: 0.7 !important;
  filter: blur(1px) !important;
}

/* 图片加载完成后的状态 */
.composer-detail-image img[data-loaded="true"],
.composer-image img[data-loaded="true"] {
  opacity: 1 !important;
  filter: none !important;
}

/* 针对高分辨率屏幕的额外优化 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .composer-detail-image img,
  .composer-image img {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: optimize-contrast !important;
  }
}

/* 针对超高分辨率屏幕的优化 */
@media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 288dpi) {
  .composer-detail-image img,
  .composer-image img {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: optimize-contrast !important;
  }
}

/* 图片加载动画 */
@keyframes imageLoadFadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.composer-detail-image img[data-loaded="true"],
.composer-image img[data-loaded="true"] {
  animation: imageLoadFadeIn 0.5s ease-out !important;
}
